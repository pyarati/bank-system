{"remainingRequest":"/home/arati/workspace/Vue/rout/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/arati/workspace/Vue/rout/src/components/profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/arati/workspace/Vue/rout/src/components/profile.vue","mtime":1632118914039},{"path":"/home/arati/workspace/Vue/rout/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arati/workspace/Vue/rout/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/arati/workspace/Vue/rout/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/arati/workspace/Vue/rout/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmltcG9ydCBoZWFkZXJzIGZyb20gIi4vaGVhZGVycy52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKICBjb21wb25lbnRzOiB7CiAgICBoZWFkZXJzLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICBpdGVtOiB1bmRlZmluZWQsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiaG9tZSIgfSk7CiAgICB9LAogICAgdXBkYXRldXNlcigpIHsKICAgICAgdmFyIGFjY2Vzc190b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKTsKICAgICAgLy9jb25zb2xlLmxvZyhhY2Nlc3NfdG9rZW4pOwogICAgICBjb25zdCBvcHRpb25zID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIsCiAgICAgICAgICBBdXRob3JpemF0aW9uOiBhY2Nlc3NfdG9rZW4sCiAgICAgICAgfSwKICAgICAgfTsKICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgaWYgKHRoaXMuaXRlbS5maXJzdF9uYW1lICE9IHRoaXMuaXRlbUNvcHkuZmlyc3RfbmFtZSkgewogICAgICAgIGRhdGFbImZpcnN0X25hbWUiXSA9IHRoaXMuaXRlbS5maXJzdF9uYW1lOwogICAgICB9CiAgICAgIGlmICh0aGlzLml0ZW0ubGFzdF9uYW1lICE9IHRoaXMuaXRlbUNvcHkubGFzdF9uYW1lKSB7CiAgICAgICAgZGF0YVsibGFzdF9uYW1lIl0gPSB0aGlzLml0ZW0ubGFzdF9uYW1lOwogICAgICB9CiAgICAgIGlmICh0aGlzLml0ZW0uYWRkcmVzcyAhPSB0aGlzLml0ZW1Db3B5LmFkZHJlc3MpIHsKICAgICAgICBkYXRhWyJhZGRyZXNzIl0gPSB0aGlzLml0ZW0uYWRkcmVzczsKICAgICAgfQogICAgICBpZiAodGhpcy5pdGVtLmVtYWlsX2lkICE9IHRoaXMuaXRlbUNvcHkuZW1haWxfaWQpIHsKICAgICAgICBkYXRhWyJlbWFpbF9pZCJdID0gdGhpcy5pdGVtLmVtYWlsX2lkOwogICAgICB9CiAgICAgIGlmICh0aGlzLml0ZW0ubW9iaWxlX251bWJlciAhPSB0aGlzLml0ZW1Db3B5Lm1vYmlsZV9udW1iZXIpIHsKICAgICAgICBkYXRhWyJtb2JpbGVfbnVtYmVyIl0gPSB0aGlzLml0ZW0ubW9iaWxlX251bWJlcjsKICAgICAgfQogICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wdXQoImh0dHA6Ly8wLjAuMC4wOjUwMDAvdXNlci8iICsgdGhpcy5pdGVtLmlkLCBkYXRhLCBvcHRpb25zKQogICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygicmVzdWx0OiIsIHJlc3VsdCk7CiAgICAgICAgICAgIC8vbGV0IGRhdGEgPSByZXN1bHQuZGF0YS5kYXRhOwogICAgICAgICAgICB0aGlzLmJhY2soKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yOiIsIGUpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGV1c2VyKCkgewogICAgICB2YXIgYWNjZXNzX3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY2Vzc190b2tlbiIpOwogICAgICAvL2NvbnNvbGUubG9nKGFjY2Vzc190b2tlbik7CiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiI6ICIqIiwKICAgICAgICAgIEF1dGhvcml6YXRpb246IGFjY2Vzc190b2tlbiwKICAgICAgICB9LAogICAgICB9OwogICAgICBheGlvcwogICAgICAgIC5kZWxldGUoImh0dHA6Ly8wLjAuMC4wOjUwMDAvdXNlci8iICsgdGhpcy5pdGVtLmlkLCBvcHRpb25zKQogICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXN1bHQ6IiwgcmVzdWx0KTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAic2lnbnVwIiB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yOiIsIGUpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICBsZXQgdXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZCIpOwogICAgaWYgKCF1c2VyKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInNpZ251cCIgfSk7CiAgICB9CiAgICB2YXIgYWNjZXNzX3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY2Vzc190b2tlbiIpOwogICAgLy9jb25zb2xlLmxvZyhhY2Nlc3NfdG9rZW4pOwogICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgaGVhZGVyczogewogICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIsCiAgICAgICAgQXV0aG9yaXphdGlvbjogYWNjZXNzX3Rva2VuLAogICAgICB9LAogICAgfTsKICAgIGxldCB1cmwgPSAiaHR0cDovLzAuMC4wLjA6NTAwMC91c2VyLyIgKyB1c2VyOwoKICAgIGF4aW9zCiAgICAgIC5nZXQodXJsLCBvcHRpb25zKQogICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgdGhpcy5pdGVtID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgICB0aGlzLml0ZW1Db3B5ID0gXy5jbG9uZURlZXAodGhpcy5pdGVtKTsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiQVhJT1MgRVJST1I6ICIsIGVycik7CiAgICAgIH0pOwogIH0sCn07Cg=="},{"version":3,"sources":["profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"profile.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <headers />\n    <div class=\"profile\" v-if=\"item\">\n      <h1>Profile</h1>\n      <input\n        type=\"text\"\n        v-model=\"item.first_name\"\n        placeholder=\"Enter first name\"\n      />\n      <input\n        type=\"text\"\n        v-model=\"item.last_name\"\n        placeholder=\"Enter last name\"\n      />\n      <input type=\"text\" v-model=\"item.address\" placeholder=\"Enter address\" />\n      <input\n        type=\"text\"\n        v-model=\"item.mobile_number\"\n        placeholder=\"Enter mobile number\"\n      />\n      <input\n        type=\"email\"\n        v-model=\"item.email_id\"\n        placeholder=\"Enter email address\"\n      />\n\n      <!-- <router-link :to=\"'/updatelist/'+item.id\"><button type=\"submit\">Editprofile</button></router-link> -->\n      <button type=\"button\" v-on:click=\"back()\">Back</button>\n      <button type=\"button\" v-on:click=\"updateuser()\">Update user</button>\n      <button type=\"button\" v-on:click=\"deleteuser()\">Delete user</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport headers from \"./headers.vue\";\n\nexport default {\n  name: \"home\",\n  components: {\n    headers,\n  },\n  data() {\n    return {\n      name: \"\",\n      item: undefined,\n    };\n  },\n  methods: {\n    back() {\n      this.$router.push({ name: \"home\" });\n    },\n    updateuser() {\n      var access_token = localStorage.getItem(\"access_token\");\n      //console.log(access_token);\n      const options = {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          Authorization: access_token,\n        },\n      };\n      var data = {};\n      if (this.item.first_name != this.itemCopy.first_name) {\n        data[\"first_name\"] = this.item.first_name;\n      }\n      if (this.item.last_name != this.itemCopy.last_name) {\n        data[\"last_name\"] = this.item.last_name;\n      }\n      if (this.item.address != this.itemCopy.address) {\n        data[\"address\"] = this.item.address;\n      }\n      if (this.item.email_id != this.itemCopy.email_id) {\n        data[\"email_id\"] = this.item.email_id;\n      }\n      if (this.item.mobile_number != this.itemCopy.mobile_number) {\n        data[\"mobile_number\"] = this.item.mobile_number;\n      }\n      if (Object.keys(data).length) {\n        axios\n          .put(\"http://0.0.0.0:5000/user/\" + this.item.id, data, options)\n          .then((result) => {\n            console.log(\"result:\", result);\n            //let data = result.data.data;\n            this.back();\n          })\n          .catch((e) => {\n            console.log(\"error:\", e);\n          });\n      }\n    },\n    deleteuser() {\n      var access_token = localStorage.getItem(\"access_token\");\n      //console.log(access_token);\n      const options = {\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          Authorization: access_token,\n        },\n      };\n      axios\n        .delete(\"http://0.0.0.0:5000/user/\" + this.item.id, options)\n        .then((result) => {\n          console.log(\"result:\", result);\n          localStorage.clear();\n          this.$router.push({ name: \"signup\" });\n        })\n        .catch((e) => {\n          console.log(\"error:\", e);\n        });\n    },\n  },\n  async mounted() {\n    let user = localStorage.getItem(\"id\");\n    if (!user) {\n      this.$router.push({ name: \"signup\" });\n    }\n    var access_token = localStorage.getItem(\"access_token\");\n    //console.log(access_token);\n    const options = {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        Authorization: access_token,\n      },\n    };\n    let url = \"http://0.0.0.0:5000/user/\" + user;\n\n    axios\n      .get(url, options)\n      .then((result) => {\n        this.item = result.data.data;\n        this.itemCopy = _.cloneDeep(this.item);\n      })\n      .catch((err) => {\n        console.log(\"AXIOS ERROR: \", err);\n      });\n  },\n};\n</script>\n\n<style>\n</style>"]}]}